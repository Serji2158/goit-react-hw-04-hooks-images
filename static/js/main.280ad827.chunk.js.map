{"version":3,"sources":["Components/imageGalleryItem/ImageGalleryItem.module.css","Components/modal/Modal.module.css","service/API.js","Components/modal/ModalHook.js","Components/imageGalleryItem/ImageGalleryItemHook.js","Components/imageGallery/ImageGalleryHook.js","Components/searchBar/SearchBarHook.js","AppHook.js","index.js","Components/searchBar/SearchBar.module.css","Components/imageGallery/ImageGallery.module.css"],"names":["module","exports","BASE_URL","API_KEY","api","fetchGallery","query","page","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","ModalHook","hideModal","largeImage","useEffect","handleEsc","e","code","window","addEventListener","removeEventListener","createPortal","className","s","overlay","onClick","target","currentTarget","modal","src","alt","propType","PropTypes","string","isRequired","func","ImageGalleryItemHook","gallery","useState","showModal","setShowModal","setLargeImage","toggleModal","prev","id","map","picture","imageGalleryItem","imageGalleryItemImage","webformatURL","largeImageURL","array","ImageGalleryHook","increasePage","setGallery","loading","setLoading","error","setError","isHidden","setIsHidden","hits","catch","finally","body","scrollIntoView","behavior","block","message","infoBox","length","ImageGallery","type","Button","number","SearchBarHook","onSubmit","setQuery","searchBar","searchForm","preventDefault","trim","toast","position","POSITION","TOP_LEFT","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","value","toLowerCase","AppHook","setPage","autoClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.280ad827.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__OwWpo\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__hjMQc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__lnVnu\",\"modal\":\"Modal_modal__3pr2j\"};","const BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"23675334-f5a1abcfe20e79567add0d4e1\";\r\n\r\nfunction fetchGallery(query, page = 1) {\r\n  return fetch(\r\n    `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Нет картинки с именем ${query}`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchGallery,\r\n};\r\n\r\nexport default api;\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nconst ModalHook = ({ hideModal, largeImage }) => {\r\n  // const [state, setState]= useState({})\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      hideModal(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleEsc = (e) => {\r\n      if (e.code === \"Escape\") {\r\n        hideModal(e);\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleEsc);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleEsc);\r\n    };\r\n  }, [hideModal]);\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={handleBackdropClick}>\r\n      <div className={s.modal}>\r\n        <img src={largeImage} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n};\r\nModalHook.propType = {\r\n  largeImage: PropTypes.string.isRequired,\r\n  hideModal: PropTypes.func.isRequired,\r\n};\r\nexport default ModalHook;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// import Modal from \"../modal/Modal\";\r\nimport s from \"../imageGalleryItem/ImageGalleryItem.module.css\";\r\nimport ModalHook from \"../modal/ModalHook\";\r\n\r\nconst ImageGalleryItemHook = ({ gallery }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeImage, setLargeImage] = useState(\"\");\r\n\r\n  const toggleModal = (e) => {\r\n    setShowModal((prev) => !prev);\r\n    setLargeImage(e.target.id || \"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {gallery.map((picture) => (\r\n        <li className={s.imageGalleryItem} key={picture.id}>\r\n          <img\r\n            className={s.imageGalleryItemImage}\r\n            src={picture.webformatURL}\r\n            alt=\"\"\r\n            id={picture.largeImageURL}\r\n            onClick={toggleModal}\r\n          />\r\n        </li>\r\n      ))}\r\n      {showModal && (\r\n        <ModalHook hideModal={toggleModal} largeImage={largeImage} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItemHook.propType = {\r\n  gallery: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItemHook;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// import ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\nimport api from \"../../service/API\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItemHook from \"../imageGalleryItem/ImageGalleryItemHook\";\r\n\r\nconst ImageGalleryHook = ({ increasePage, query, page }) => {\r\n  const [gallery, setGallery] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [isHidden, setIsHidden] = useState(false);\r\n\r\n  const scroll = () => {\r\n    const element = document.body;\r\n    element.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"end\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const updateGallery = () => {\r\n      if (query !== \"\") {\r\n        setLoading(true);\r\n        api\r\n          .fetchGallery(query, page)\r\n          .then(({ hits }) => {\r\n            setGallery((prev) => (page === 1 ? [...hits] : [...prev, ...hits]));\r\n            setIsHidden(true);\r\n          })\r\n          .catch((error) => setError(error))\r\n          .finally(() => setLoading(false));\r\n      }\r\n    };\r\n\r\n    updateGallery();\r\n  }, [page, query]);\r\n\r\n  useEffect(() => {\r\n    if (page !== 1) {\r\n      scroll();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [gallery]);\r\n\r\n  return (\r\n    <>\r\n      {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n      {loading && <p>Loading...</p>}\r\n      {!query && <div className={s.infoBox}>Enter you request, please.</div>}\r\n      {gallery.length > 0 && (\r\n        <ul className={s.ImageGallery}>\r\n          <ImageGalleryItemHook gallery={gallery} />\r\n        </ul>\r\n      )}\r\n      {isHidden && (\r\n        <button type=\"button\" className={s.Button} onClick={increasePage}>\r\n          LOAD MORE\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryHook.propType = {\r\n  query: PropTypes.string.isRequired,\r\n  increasePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default ImageGalleryHook;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"./SearchBar.module.css\";\r\n\r\nconst SearchBarHook = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const handleQueryChange = (e) => {\r\n    setQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === \"\") {\r\n      return toast.error(\"Put your query,please !\", {\r\n        position: toast.POSITION.TOP_LEFT,\r\n      });\r\n    }\r\n\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchBar}>\r\n      <form className={s.searchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.searchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleQueryChange}\r\n          value={query}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\nSearchBarHook.propType = {\r\n  onSubmit: PropTypes.func,\r\n};\r\nexport default SearchBarHook;\r\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ToastContainer } from \"react-toastify\";\n// import ImageGallery from \"./Components/imageGallery/ImageGallery\";\n// import SearchBar from \"./Components/searchBar/SearchBar\";\nimport ImageGalleryHook from \"./Components/imageGallery/ImageGalleryHook\";\nimport SearchBarHook from \"./Components/searchBar/SearchBarHook\";\n\nconst AppHook = () => {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n\n  const handleFormSubmit = (query) => {\n    setQuery(query);\n    setPage(1);\n  };\n\n  const increasePage = () => {\n    setPage((prev) => prev + 1);\n  };\n\n  return (\n    <>\n      <SearchBarHook onSubmit={handleFormSubmit} />\n      <ImageGalleryHook query={query} page={page} increasePage={increasePage} />\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n};\n\nAppHook.propType = {\n  query: PropTypes.string.isRequired,\n  page: PropTypes.string.isRequired,\n};\nexport default AppHook;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n// import App from \"./App\";\nimport AppHook from \"./AppHook\";\n\nReactDOM.render(\n  <>\n    <AppHook />\n  </>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2aVV3\",\"searchForm\":\"SearchBar_searchForm__3V90q\",\"searchFormButton\":\"SearchBar_searchFormButton__EUsLA\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__3z3tH\",\"searchFormInput\":\"SearchBar_searchFormInput__3E9k0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__drdTm\",\"Button\":\"ImageGallery_Button__2hq9L\",\"infoBox\":\"ImageGallery_infoBox__1Qf5u\"};"],"sourceRoot":""}